<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Stxxl: request_interface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Stxxl
   &#160;<span id="projectnumber">1.3.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classrequest__interface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">request_interface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__iolayer.html">I/O primitives layer</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functional interface of a request.  
 <a href="classrequest__interface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="request__interface_8h_source.html">request_interface.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for request_interface:</div>
<div class="dyncontent">
<div class="center"><img src="classrequest__interface__inherit__graph.png" border="0" usemap="#request__interface_inherit__map" alt="Inheritance graph"/></div>
<map name="request__interface_inherit__map" id="request__interface_inherit__map">
<area shape="rect" id="node3" href="classrequest.html" title="Request with basic properties like file and offset. " alt="" coords="5,86,72,117"/><area shape="rect" id="node9" href="classrequest__with__waiters.html" title="Request that is aware of threads waiting for it to complete. " alt="" coords="96,86,243,117"/><area shape="rect" id="node5" href="classrequest__with__state.html" title="Request with completion state. " alt="" coords="37,166,171,197"/><area shape="rect" id="node7" href="classserving__request.html" title="Request which serves an I/O by calling the synchronous routine of the file. " alt="" coords="45,246,163,277"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa021516e0f84ea5a24beaa5d0a748f7a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>request_type</b> { <b>READ</b>, 
<b>WRITE</b>
 }</td></tr>
<tr class="separator:aa021516e0f84ea5a24beaa5d0a748f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b79c51c93d773f7edb099b1078bd8d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19b79c51c93d773f7edb099b1078bd8d"></a>
typedef stxxl::external_size_type&#160;</td><td class="memItemRight" valign="bottom"><b>offset_type</b></td></tr>
<tr class="separator:a19b79c51c93d773f7edb099b1078bd8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8e25e86c5b88d708085e25ecacea1d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a8e25e86c5b88d708085e25ecacea1d"></a>
typedef stxxl::internal_size_type&#160;</td><td class="memItemRight" valign="bottom"><b>size_type</b></td></tr>
<tr class="separator:a8a8e25e86c5b88d708085e25ecacea1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9ea6eb377820e64dd74e24d9be2c132"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9ea6eb377820e64dd74e24d9be2c132"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>add_waiter</b> (onoff_switch *sw)=0</td></tr>
<tr class="separator:ab9ea6eb377820e64dd74e24d9be2c132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae956098ae880b36195ed635ef302a9a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae956098ae880b36195ed635ef302a9a7"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>delete_waiter</b> (onoff_switch *sw)=0</td></tr>
<tr class="separator:ae956098ae880b36195ed635ef302a9a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3391a2c146f1ae55c9aae9b0c5f52c75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3391a2c146f1ae55c9aae9b0c5f52c75"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>serve</b> ()=0</td></tr>
<tr class="separator:a3391a2c146f1ae55c9aae9b0c5f52c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f8ce33cba4957e580a9da2354eb1ed"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__interface.html#a77f8ce33cba4957e580a9da2354eb1ed">wait</a> (bool measure_time=true)=0</td></tr>
<tr class="memdesc:a77f8ce33cba4957e580a9da2354eb1ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends calling thread until completion of the request.  <a href="#a77f8ce33cba4957e580a9da2354eb1ed">More...</a><br/></td></tr>
<tr class="separator:a77f8ce33cba4957e580a9da2354eb1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857d7519926a791939f5daf3e9f55935"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__interface.html#a857d7519926a791939f5daf3e9f55935">cancel</a> ()=0</td></tr>
<tr class="memdesc:a857d7519926a791939f5daf3e9f55935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a request.  <a href="#a857d7519926a791939f5daf3e9f55935">More...</a><br/></td></tr>
<tr class="separator:a857d7519926a791939f5daf3e9f55935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc686902221e629e553b57be22daba7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__interface.html#a3dc686902221e629e553b57be22daba7">poll</a> ()=0</td></tr>
<tr class="memdesc:a3dc686902221e629e553b57be22daba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls the status of the request.  <a href="#a3dc686902221e629e553b57be22daba7">More...</a><br/></td></tr>
<tr class="separator:a3dc686902221e629e553b57be22daba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af47c3b3597d7e9d31f5ce75d7e24a9a8"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__interface.html#af47c3b3597d7e9d31f5ce75d7e24a9a8">io_type</a> () const =0</td></tr>
<tr class="memdesc:af47c3b3597d7e9d31f5ce75d7e24a9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies the type of I/O implementation.  <a href="#af47c3b3597d7e9d31f5ce75d7e24a9a8">More...</a><br/></td></tr>
<tr class="separator:af47c3b3597d7e9d31f5ce75d7e24a9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50eca6eab657141910c6e56d7908e030"><td class="memItemLeft" align="right" valign="top">virtual std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__interface.html#a50eca6eab657141910c6e56d7908e030">print</a> (std::ostream &amp;out) const =0</td></tr>
<tr class="memdesc:a50eca6eab657141910c6e56d7908e030"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps properties of a request.  <a href="#a50eca6eab657141910c6e56d7908e030">More...</a><br/></td></tr>
<tr class="separator:a50eca6eab657141910c6e56d7908e030"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a753e127ef45866d4ddc48560ee51ecaf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a753e127ef45866d4ddc48560ee51ecaf"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>notify_waiters</b> ()=0</td></tr>
<tr class="separator:a753e127ef45866d4ddc48560ee51ecaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0d363a5164385bc5cf56c40b9c6aaa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb0d363a5164385bc5cf56c40b9c6aaa"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>completed</b> ()=0</td></tr>
<tr class="separator:abb0d363a5164385bc5cf56c40b9c6aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functional interface of a request. </p>
<p>Since all library I/O operations are asynchronous, one needs to keep track of their status: e.g. whether an I/O operation completed or not. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a857d7519926a791939f5daf3e9f55935"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool request_interface::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a request. </p>
<p>The request is canceled unless already being processed. However, cancelation cannot be guaranteed. Canceled requests must still be waited for in order to ensure correct operation. If the request was canceled successfully, the completion handler will not be called. </p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> iff the request was canceled successfully </dd></dl>

<p>Implemented in <a class="el" href="classrequest__with__state.html#a2c0fbe2d6e21deb832808a1f2ab5d5c5">request_with_state</a>.</p>

</div>
</div>
<a class="anchor" id="af47c3b3597d7e9d31f5ce75d7e24a9a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* request_interface::io_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identifies the type of I/O implementation. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to null terminated string of characters, containing the name of I/O implementation </dd></dl>

<p>Implemented in <a class="el" href="classserving__request.html#ae9ad957f1bd04955f5fb6e57facf38f0">serving_request</a>.</p>

</div>
</div>
<a class="anchor" id="a3dc686902221e629e553b57be22daba7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool request_interface::poll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Polls the status of the request. </p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if request is completed, otherwise <code>false</code> </dd></dl>

<p>Implemented in <a class="el" href="classrequest__with__state.html#a44bf6a41461bbf90afeec88e97d613e2">request_with_state</a>.</p>

<p>Referenced by <a class="el" href="classbuffered__writer.html#ac4c4b85c42bf84d691a3eaf487f88733">buffered_writer&lt; typed_block &gt;::get_free_block()</a>.</p>

</div>
</div>
<a class="anchor" id="a50eca6eab657141910c6e56d7908e030"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::ostream&amp; request_interface::print </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dumps properties of a request. </p>

<p>Implemented in <a class="el" href="classrequest.html#a29d916149575335a1caa7cf68b1c067b">request</a>.</p>

</div>
</div>
<a class="anchor" id="a77f8ce33cba4957e580a9da2354eb1ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void request_interface::wait </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>measure_time</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Suspends calling thread until completion of the request. </p>

<p>Implemented in <a class="el" href="classrequest__with__state.html#a58a489586460fe763307da5d0ac328d3">request_with_state</a>.</p>

<p>Referenced by <a class="el" href="classblock__prefetcher.html#a6c3564f678ecae273a7c93847ace5288">block_prefetcher&lt; block_type, bid_iterator_type &gt;::block_consumed()</a>, <a class="el" href="classbuffered__writer.html#ad413eb657399755ad7b30d3d29d9a09a">buffered_writer&lt; typed_block &gt;::flush()</a>, <a class="el" href="group__stlalgo.html#ga52e9a8e286d32541e1750ff9afdb4246">ksort()</a>, <a class="el" href="classfileperblock__file.html#a2e3d95fb53a0c5d98d1bda52b1696135">fileperblock_file&lt; base_file_type &gt;::lock()</a>, <a class="el" href="classstream_1_1runs__creator_3_01use__push_3_01ValueType___01_4_00_01Cmp___00_01BlockSize___00_01AllocStr___01_4.html#a44bf0d03b2a95ef4175d462120c49422">stream::runs_creator&lt; use_push&lt; ValueType_ &gt;, Cmp_, BlockSize_, AllocStr_ &gt;::push()</a>, <a class="el" href="group__stlalgo.html#ga34dabf842078576e6704450dcbc8b080">sort()</a>, <a class="el" href="group__stlalgo.html#ga23907e7b3da81fa3fb7327eeb774459a">stable_ksort()</a>, <a class="el" href="classbuffered__writer.html#a25545ee493d998722215193c8568f5a7">buffered_writer&lt; typed_block &gt;::write()</a>, <a class="el" href="classblock__prefetcher.html#ab2dbe604995a843c56b409f933d0d70b">block_prefetcher&lt; block_type, bid_iterator_type &gt;::~block_prefetcher()</a>, and <a class="el" href="classbuffered__writer.html#aeb3ab9f60854b682638e8db7e0e3d18a">buffered_writer&lt; typed_block &gt;::~buffered_writer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="request__interface_8h_source.html">request_interface.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>

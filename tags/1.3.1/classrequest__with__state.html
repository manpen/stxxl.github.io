<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Stxxl: request_with_state Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>request_with_state Class Reference<br/>
<small>
[<a class="el" href="group__fileimpl.html">File implementations</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="request_with_state" --><!-- doxytag: inherits="request,request_with_waiters" -->
<p>Request with completion state.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="request__with__state_8h_source.html">request_with_state.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for request_with_state:</div>
<div class="dyncontent">
<div class="center"><img src="classrequest__with__state__inherit__graph.png" border="0" usemap="#request__with__state_inherit__map" alt="Inheritance graph"/></div>
<map name="request__with__state_inherit__map" id="request__with__state_inherit__map">
<area shape="rect" href="classserving__request.html" title="Request which serves an I/O by calling the synchronous routine of the file." alt="" coords="44,229,156,256"/><area shape="rect" href="classrequest.html" title="Request with basic properties like file and offset." alt="" coords="5,80,69,107"/><area shape="rect" href="classrequest__interface.html" title="Functional interface of a request." alt="" coords="40,5,160,32"/><area shape="rect" href="classrequest__with__waiters.html" title="Request that is aware of threads waiting for it to complete." alt="" coords="93,80,235,107"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for request_with_state:</div>
<div class="dyncontent">
<div class="center"><img src="classrequest__with__state__coll__graph.png" border="0" usemap="#request__with__state_coll__map" alt="Collaboration graph"/></div>
<map name="request__with__state_coll__map" id="request__with__state_coll__map">
<area shape="rect" href="classrequest.html" title="Request with basic properties like file and offset." alt="" coords="171,96,235,123"/><area shape="rect" href="classrequest__interface.html" title="Functional interface of a request." alt="" coords="31,5,151,32"/><area shape="rect" href="classrequest__with__waiters.html" title="Request that is aware of threads waiting for it to complete." alt="" coords="5,96,147,123"/><area shape="rect" href="classfile.html" title="Defines interface of file." alt="" coords="180,5,217,32"/><area shape="rect" href="classcompletion__handler.html" title="Completion handler class (Loki&#45;style)." alt="" coords="241,5,375,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classrequest__with__state-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__with__state.html#a58a489586460fe763307da5d0ac328d3">wait</a> (bool measure_time=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Suspends calling thread until completion of the request.  <a href="#a58a489586460fe763307da5d0ac328d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__with__state.html#a44bf6a41461bbf90afeec88e97d613e2">poll</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Polls the status of the request.  <a href="#a44bf6a41461bbf90afeec88e97d613e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__with__state.html#a2c0fbe2d6e21deb832808a1f2ab5d5c5">cancel</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancel a request.  <a href="#a2c0fbe2d6e21deb832808a1f2ab5d5c5"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrequest__with__state.html#a8e1c6191c936337c1133e140b7388fa7">request_state</a> { <b>OP</b> =  0, 
<b>DONE</b> =  1, 
<b>READY2DIE</b> =  2
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67e75dea8d1a6deb5fd3e4ea6ac9b714"></a><!-- doxytag: member="request_with_state::request_with_state" ref="a67e75dea8d1a6deb5fd3e4ea6ac9b714" args="(const completion_handler &amp;on_cmpl, file *f, void *buf, offset_type off, size_type b, request_type t)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>request_with_state</b> (const <a class="el" href="classcompletion__handler.html">completion_handler</a> &amp;on_cmpl, <a class="el" href="classfile.html">file</a> *f, void *buf, offset_type off, size_type b, request_type t)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa33cb6b3818319ee701a5c3bcb0f0a9b"></a><!-- doxytag: member="request_with_state::_state" ref="aa33cb6b3818319ee701a5c3bcb0f0a9b" args="" -->
state&lt; <a class="el" href="classrequest__with__state.html#a8e1c6191c936337c1133e140b7388fa7">request_state</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_state</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Request with completion state. </p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a8e1c6191c936337c1133e140b7388fa7"></a><!-- doxytag: member="request_with_state::request_state" ref="a8e1c6191c936337c1133e140b7388fa7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classrequest__with__state.html#a8e1c6191c936337c1133e140b7388fa7">request_with_state::request_state</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>states of request OP - operating, DONE - request served, READY2DIE - can be destroyed </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2c0fbe2d6e21deb832808a1f2ab5d5c5"></a><!-- doxytag: member="request_with_state::cancel" ref="a2c0fbe2d6e21deb832808a1f2ab5d5c5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool request_with_state::cancel </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel a request. </p>
<p>The request is canceled unless already being processed. However, cancelation cannot be guaranteed. Canceled requests must still be waited for in order to ensure correct operation. If the request was canceled successfully, the completion handler will not be called. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> iff the request was canceled successfully </dd></dl>

<p>Implements <a class="el" href="classrequest__interface.html#a857d7519926a791939f5daf3e9f55935">request_interface</a>.</p>

<p>References <a class="el" href="classfile.html#a8ae6e93d6fb66b0443ac5af345283146">file::get_queue_id()</a>.</p>

</div>
</div>
<a class="anchor" id="a44bf6a41461bbf90afeec88e97d613e2"></a><!-- doxytag: member="request_with_state::poll" ref="a44bf6a41461bbf90afeec88e97d613e2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool request_with_state::poll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Polls the status of the request. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if request is completed, otherwise <code>false</code> </dd></dl>

<p>Implements <a class="el" href="classrequest__interface.html#a3dc686902221e629e553b57be22daba7">request_interface</a>.</p>

<p>References <a class="el" href="classrequest.html#a32dc55876ffe5160f8c037b3c6eaf126">request::check_errors()</a>.</p>

</div>
</div>
<a class="anchor" id="a58a489586460fe763307da5d0ac328d3"></a><!-- doxytag: member="request_with_state::wait" ref="a58a489586460fe763307da5d0ac328d3" args="(bool measure_time=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void request_with_state::wait </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>measure_time</em> = <code>true</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Suspends calling thread until completion of the request. </p>

<p>Implements <a class="el" href="classrequest__interface.html#a77f8ce33cba4957e580a9da2354eb1ed">request_interface</a>.</p>

<p>References <a class="el" href="classrequest.html#a32dc55876ffe5160f8c037b3c6eaf126">request::check_errors()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="request__with__state_8h_source.html">request_with_state.h</a></li>
<li>request_with_state.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>

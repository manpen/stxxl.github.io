<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Stxxl: prefetch_pool&lt; BlockType &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>prefetch_pool&lt; BlockType &gt; Class Template Reference<br>
<small>
[<a class="el" href="group__schedlayer.html">Block scheduling sublayer</a>]</small>
</h1><!-- doxytag: class="prefetch_pool" --><!-- doxytag: inherits="noncopyable" -->Implements dynamically resizable prefetching pool.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="prefetch__pool_8h-source.html">prefetch_pool.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for prefetch_pool&lt; BlockType &gt;:</div>
<div class="dynsection">
<p><center><img src="classprefetch__pool__inherit__graph.png" border="0" usemap="#prefetch__pool_3_01BlockType_01_4__inherit__map" alt="Inheritance graph"></center>
<map name="prefetch__pool_3_01BlockType_01_4__inherit__map">
<area shape="rect" href="classprefetch__pool.html" title="prefetch_pool\&lt; typed_block \&gt;" alt="" coords="5,96,197,123"><area shape="rect" href="classprefetch__pool.html" title="prefetch_pool\&lt; BlockType_ \&gt;" alt="" coords="221,96,413,123"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classprefetch__pool-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprefetch__pool.html#dcc7581782ed69706efd9dab72504373">prefetch_pool</a> (unsigned_type init_size=1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs pool.  <a href="#dcc7581782ed69706efd9dab72504373"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprefetch__pool.html#8d254c79983006195347de996bd00603">~prefetch_pool</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Waits for completion of all ongoing read requests and frees memory.  <a href="#8d254c79983006195347de996bd00603"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned_type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprefetch__pool.html#08d97190f81882a5f6ae3f78f1ef27f4">size</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns number of owned blocks.  <a href="#08d97190f81882a5f6ae3f78f1ef27f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprefetch__pool.html#338681a9581907004e2e57d43844ff70">hint</a> (bid_type bid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives a hint for prefetching a block.  <a href="#338681a9581907004e2e57d43844ff70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classrequest__ptr.html">request_ptr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprefetch__pool.html#eef9e4489461d665a1814630dd96f910">read</a> (block_type *&amp;block, bid_type bid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads block. If this block is cached block is not read but passed from the cache.  <a href="#eef9e4489461d665a1814630dd96f910"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned_type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprefetch__pool.html#5763f7539394700b309434eae448c54a">resize</a> (unsigned_type new_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resizes size of the pool.  <a href="#5763f7539394700b309434eae448c54a"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class BlockType&gt;<br>
 class prefetch_pool&lt; BlockType &gt;</h3>

Implements dynamically resizable prefetching pool. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="dcc7581782ed69706efd9dab72504373"></a><!-- doxytag: member="prefetch_pool::prefetch_pool" ref="dcc7581782ed69706efd9dab72504373" args="(unsigned_type init_size=1)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprefetch__pool.html">prefetch_pool</a>&lt; BlockType &gt;::<a class="el" href="classprefetch__pool.html">prefetch_pool</a>           </td>
          <td>(</td>
          <td class="paramtype">unsigned_type&nbsp;</td>
          <td class="paramname"> <em>init_size</em> = <code>1</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs pool. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>init_size</em>&nbsp;</td><td>initial number of blocks in the pool </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8d254c79983006195347de996bd00603"></a><!-- doxytag: member="prefetch_pool::~prefetch_pool" ref="8d254c79983006195347de996bd00603" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classprefetch__pool.html">prefetch_pool</a>&lt; BlockType &gt;::~<a class="el" href="classprefetch__pool.html">prefetch_pool</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Waits for completion of all ongoing read requests and frees memory. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="08d97190f81882a5f6ae3f78f1ef27f4"></a><!-- doxytag: member="prefetch_pool::size" ref="08d97190f81882a5f6ae3f78f1ef27f4" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned_type <a class="el" href="classprefetch__pool.html">prefetch_pool</a>&lt; BlockType &gt;::size           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns number of owned blocks. 
<p>

<p>Referenced by <a class="el" href="prefetch__pool_8h-source.html#l00211">prefetch_pool&lt; BlockType_ &gt;::resize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="338681a9581907004e2e57d43844ff70"></a><!-- doxytag: member="prefetch_pool::hint" ref="338681a9581907004e2e57d43844ff70" args="(bid_type bid)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classprefetch__pool.html">prefetch_pool</a>&lt; BlockType &gt;::hint           </td>
          <td>(</td>
          <td class="paramtype">bid_type&nbsp;</td>
          <td class="paramname"> <em>bid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gives a hint for prefetching a block. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bid</em>&nbsp;</td><td>address of a block to be prefetched </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>true</code> if there was a free block to do prefetch and prefetching was scheduled, <code>false</code> otherwise </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>If there are no free blocks available (all blocks are already in reading or read but not retrieved by user calling <code>read</code> method) calling <code>hint</code> function has no effect </dd></dl>

</div>
</div><p>
<a class="anchor" name="eef9e4489461d665a1814630dd96f910"></a><!-- doxytag: member="prefetch_pool::read" ref="eef9e4489461d665a1814630dd96f910" args="(block_type *&amp;block, bid_type bid)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrequest__ptr.html">request_ptr</a> <a class="el" href="classprefetch__pool.html">prefetch_pool</a>&lt; BlockType &gt;::read           </td>
          <td>(</td>
          <td class="paramtype">block_type *&amp;&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bid_type&nbsp;</td>
          <td class="paramname"> <em>bid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads block. If this block is cached block is not read but passed from the cache. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>block</em>&nbsp;</td><td>block object, where data to be read to. If block was cached <code>block</code> 's ownership goes to the pool and block from cache is returned in <code>block</code> value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bid</em>&nbsp;</td><td>address of the block </td></tr>
  </table>
</dl>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd><code>block</code> parameter must be allocated dynamically using <code>new</code> . </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classrequest.html" title="Defines interface of request.">request</a> pointer object of read operation </dd></dl>

</div>
</div><p>
<a class="anchor" name="5763f7539394700b309434eae448c54a"></a><!-- doxytag: member="prefetch_pool::resize" ref="5763f7539394700b309434eae448c54a" args="(unsigned_type new_size)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BlockType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned_type <a class="el" href="classprefetch__pool.html">prefetch_pool</a>&lt; BlockType &gt;::resize           </td>
          <td>(</td>
          <td class="paramtype">unsigned_type&nbsp;</td>
          <td class="paramname"> <em>new_size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resizes size of the pool. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>new_size</em>&nbsp;</td><td>desired size of the pool. If some blocks are used for prefetching, these blocks can't be freed. Only free blocks (not in prefetching) can be freed by reducing the size of the pool calling this method. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>new size of the pool </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="prefetch__pool_8h-source.html">prefetch_pool.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Apr 21 06:45:47 2010 for Stxxl by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
